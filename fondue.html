<style>
    .font-tester-container {
        max-width: 1800px;
        margin: 0 auto;
        padding: 30px;
        font-family: 'Regular', Arial, sans-serif;
    }

    .main-container {
        display: flex;
        gap: 2rem;
        margin-bottom: 2rem;
        flex-direction: row;
        justify-content: space-between;
    }

    .body-control-container{
        display: flex;
        flex-direction: row;
        justify-content: space-between;
    }

    .input-main-container{
        display: flex;
        flex-direction: row;
        gap: 1rem;
    }

    .text-container {
        border-radius: 16px;
        background: #202020;
        min-width: 515px;
        width: 50%;
        height: auto;
        flex-shrink: 0;
        text-align: center;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 48px;
        color: white;
        padding: 4rem;
        font-family: 'Galeana', Arial, sans-serif;
    }

    .button-main-container{
        display: flex;
        width: 40%;
        gap: 2rem;
    }

    .button-container-left {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        width: 100%;
        justify-content: space-between;
    }

    .button-main {
        border-radius: 8px;
        background: #f1f1f1;
        min-width: 240px;
        width: 100%;
        height: 55px;
        padding: 1rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border: none;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .button-main:hover {
        background: #e0e0e0;
    }

    .button-main.active {
        background-color: #202020;
        color: white;
    }

    .controls-container {
        background-color: #F1F1F1;
        margin-bottom: 2rem;
        border-radius: 16px;
    }

    .controls {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        padding: 20px;
        border-radius: 15px;
        align-items: center;
    }

    .control-group {
        display: flex;
        flex-direction: row;
        gap: 8px;
    }

    .container-selects {
        display: flex;
        justify-content: baseline;
        gap: 1rem;
        flex-direction: row;
        align-items: center;
    }

    .container-multiple-controls {
        display: flex;
        flex-direction: row;
        align-items: center;
        gap: 1rem;
        height: 20px;
        background-color: white;
        border-radius: 8px;
        padding: 10px;
    }

    .button-secondary {
        border-radius: 8px;
        background: #202020;
        width: fit-content;
        height: 40px;
        padding: 1rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border: none;
        color: white;
        cursor: default;
        transition: all 0.3s ease;
    }

    .button-secondary:hover {
        background: #333;
    }

    select,
    input[type="range"] {
        padding: 10px;
        border: 2px solid #ddd;
        border-radius: 10px;
        background: white;
        font-size: 1rem;
        transition: all 0.3s ease;
        font-family: 'Regular', Arial, sans-serif;
    }

    select option {
        font-family: 'Fondue', Arial, sans-serif;
        padding: 8px;
    }

    select option[value="100"] {
        font-weight: 100;
    }

    select option[value="300"] {
        font-weight: 300;
    }

    select option[value="400"] {
        font-weight: 400;
    }

    select option[value="700"] {
        font-weight: 700;
    }

    select option[value="800"] {
        font-weight: 800;
    }

    select option[value="900"] {
        font-weight: 900;
    }



    input[type="range"] {
        padding: 0px;
        width: 80px;
        -webkit-appearance: none;
        height: 0px;
        background: #ddd;
        border-radius: 3px;
    }

    input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 10px;
        height: 10px;
        background: #202020;
        border-radius: 50%;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    input[type="range"]::-moz-range-thumb {
        height: 10px;
        width: 10px;
        border-radius: 50%;
        background: #202020;
        cursor: pointer;
        border: 2px solid #202020;
        transition: all 0.3s ease;
    }

    .editor-container {
        background: #F1F1F1;
        border-radius: 15px;
        overflow: hidden;
        transition: all 0.3s ease;
        margin-top: 20px;
    }

    .editor {
        width: 100%;
        min-height: 400px;
        padding: 30px;
        border: none;
        outline: none;
        font-size: 18px;
        line-height: 1.6;
        resize: vertical;
        background: transparent;
        transition: all 0.3s ease;
        font-family: Arial, sans-serif;
        /* Agregadas las propiedades para el word wrap */
        word-wrap: break-word;
        overflow-wrap: break-word;
        white-space: pre-wrap;
        box-sizing: border-box;
    }
    
    .font-type-container select {
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
        padding-right: 40px;
        padding-left: 20px;
        background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cmask id='mask0_243_126' style='mask-type:alpha' maskUnits='userSpaceOnUse' x='0' y='0' width='24' height='24'%3E%3Crect width='24' height='24' fill='%23D9D9D9'/%3E%3C/mask%3E%3Cg mask='url(%23mask0_243_126)'%3E%3Cpath d='M12 18L6 12L7.4 10.6L11 14.2V5H13V14.2L16.6 10.6L18 12L12 18Z' fill='%230D0D0D'/%3E%3C/g%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 10px center;
        background-size: 24px;
        cursor: pointer;
    }


    .theme-toggle-button {
        width: 34px;
        height: 34px;
        border-radius: 50%;
        border: 2px solid #ddd;
        background: linear-gradient(90deg, #ffffff 50%, #202020 50%);
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        padding: 0;
        /* display: none; */
    }

    .theme-toggle-button:hover {
        border-color: #999;
        transform: scale(1.1) rotate(180deg);
    }

    .theme-toggle-button:active {
        transform: scale(0.95);
    }

    @media (max-width: 980px) {
        .font-tester-container {
            padding: 15px;
        }

        .main-container {
            flex-direction: column;
            gap: 1rem;
        }

        .text-container {
            width: 100%;
            min-width: auto;
            padding: 0rem;
            font-size: 36px;
        }

        .button-main-container {
            width: 100%;
        }

        .button-main {
            width: 100%;
            min-width: auto;
        }

        .controls {
            grid-template-columns: 1fr;
            padding: 15px;
            gap: 15px;
        }

        .body-control-container {
            flex-direction: column;
            gap: 1rem;
        }

        .container-selects {
            flex-wrap: wrap;
            justify-content: flex-start;
        }

        .input-main-container {
            flex-direction: column;
            gap: 0.5rem;
            width: 100%;
        }

        .control-group {
            width: 100%;
        }

        .container-multiple-controls {
            width: 100%;
            justify-content: space-between;
        }

        .font-type-container select {
            width: 100%;
            min-width: 120px;
        }

        .button-secondary {
            width: auto;
            min-width: fit-content;
        }

        input[type="range"] {
            flex: 1;
        }

        .editor {
            padding: 20px;
            min-height: 300px;
        }
    }
</style>

<div class="font-tester-container">
    <div class="main-container">
        <div class="text-container">
            <p class="text-block" style="font-family: 'Fondue';">
                AaBbCc<br>
                0123456789<br>
                {(!¿@#$!?)}
            </p>
        </div>


        <div class="button-main-container">
            <div class="button-container-left">
                <button class="button-main" onclick="applyWeight(100, false)" data-weight="100" data-italic="false">
                    <p style="font-weight:100;">Thin</p>
                </button>
                <button class="button-main" onclick="applyWeight(300, false)" data-weight="300" data-italic="false">
                    <span style="font-weight:300;">Light</span>
                </button>
                <button class="button-main active" onclick="applyWeight(400, false)" data-weight="400" data-italic="false">
                    <span style="font-weight:400;">Regular</span>
                </button>
                <button class="button-main" onclick="applyWeight(700, false)" data-weight="700" data-italic="false">
                    <span style="font-weight:700;">Bold</span>
                </button>
                <button class="button-main" onclick="applyWeight(800, false)" data-weight="800" data-italic="false">
                    <span style="font-weight:800;">Ultra Bold</span>
                </button>
                <button class="button-main" onclick="applyWeight(900, false)" data-weight="900" data-italic="false">
                    <span style="font-weight:900;">Heavy</span>
                </button>
            </div>
        </div>
    </div>

    <div class="controls-container">
        <div class="controls">
            <div class="body-control-container">
                <div class="control-group">
                    <div class="container-selects">
                        <button class="button-secondary">
                            <span>Fondue</span>
                        </button>
                        <div class="font-type-container">
                            <select id="fontWeight" onchange="updateFont()">
                                <option value="100" style="font-weight:100;">Thin</option>
                                <option value="300" style="font-weight:300;">Light</option>
                                <option value="400" style="font-weight:400;" selected>Regular</option>
                                <option value="700" style="font-weight:700;">Bold</option>
                                <option value="800" style="font-weight:800;">Ultra Bold</option>
                                <option value="900" style="font-weight:900;">Heavy</option>
                            </select>
                        </div>
                        <button class="theme-toggle-button" onclick="toggleTheme()" title="Cambiar tema"></button>
                    </div>
                </div>

                <div class="input-main-container">
                    <div class="control-group">
                <div class="container-multiple-controls">
                    <label for="fontSize">Tamaño</label>
                    <input type="range" id="fontSize" min="8" max="72" value="50" oninput="updateFont()">
                    <span id="fontSizeValue">50</span>
                </div>
            </div>

            <div class="control-group">
                <div class="container-multiple-controls">
                    <label for="lineHeight">Interlineado</label>
                    <input type="range" id="lineHeight" min="0.8" max="3" step="0.1" value="1.6" oninput="updateFont()">
                    <span id="lineHeightValue">1.6</span>
                </div>
            </div>

            <div class="control-group">
                <div class="container-multiple-controls">
                    <label for="spacing">Espaciado</label>
                    <input type="range" id="spacing" min="-2" max="5" step="0.1" value="0" oninput="updateFont()">
                    <span id="spacingValue">0</span>
                </div>
            </div>
                </div>

            </div>



        </div>

        <div class="editor-container">
            <textarea class="editor" id="textEditor" placeholder="">El veloz murciélago hindú vio al zorro marrón saltar con torpeza sobre un perro dormido y pensó: “handgloves”. Nadie entendió si era una orden, una idea o sólo una excusa para parecer profundo.</textarea>
        </div>

    </div>


    <div class="controls-container">
        <div class="controls">
            <div class="control-group">
                <div class="container-selects">
                    <button class="button-secondary">
                        <span>Fondue</span>
                    </button>
                    <div class="font-type-container">
                        <select id="fontWeightSecond" onchange="updateFont()">
                            <option value="100">Thin</option>
                            <option value="300">Light</option>
                            <option value="400" selected>Regular</option>
                            <option value="700">Bold</option>
                            <option value="800">Ultra Bold</option>
                            <option value="900">Heavy</option>
                        </select>
                    </div>
                    
                    <button class="theme-toggle-button" onclick="toggleThemeSecond()" title="Cambiar tema"></button>
                </div>
            </div>

            <div class="control-group" style="justify-content: flex-end;">
                <div class="container-multiple-controls">
                    <label for="fontSizeSecond">Tamaño</label>
                    <input type="range" id="fontSizeSecond" min="8" max="72" value="18" oninput="updateFont()">
                    <span id="fontSizeSecondValue">18</span>
                </div>
            </div>
        </div>

        <div class="editor-container">
            <textarea class="editor" id="textEditorSecond"
                placeholder="">Durante el verano, Xavier volvió de Quito con una caja de fósiles, un violín y varios dibujos que mezclaban figuras humanas con animales imaginarios. Julia, su amiga fotógrafa, quiso retratar cada objeto bajo una luz distinta para comprobar cómo cambiaban los volúmenes. “La forma es sólo el principio”, decía él mientras ajustaba la lupa sobre el zafiro más pequeño. Al fondo, una voz antigua repetía que el equilibrio entre rigor y curiosidad es lo que da sentido a cualquier oficio.
Después de una pausa —de apenas 3 minutos—, alguien marcó en el cuaderno: «repetir el gesto, pero sin temblar». Era la nota nº 27 en una lista interminable de observaciones. Félix añadió un asterisco* junto a la palabra sombra y escribió al margen: El detalle importa más que el resultado.</textarea>
        </div>
    </div>

</div>

<script>
    const editor = document.getElementById("textEditor");
    const editorSecond = document.getElementById("textEditorSecond");
    const fontSize = document.getElementById("fontSize");
    const fontSizeSecond = document.getElementById("fontSizeSecond");
    const fontWeight = document.getElementById("fontWeight");
    const fontWeightSecond = document.getElementById("fontWeightSecond");
    const lineHeight = document.getElementById("lineHeight");
    const spacingText = document.getElementById("spacing");
    const previewText = document.querySelector(".text-block");

    let currentItalic = false;
        let isDarkThemeFirst = true; // Start with dark theme for first section
    let isDarkThemeSecond = true; // Start with dark theme for second section

    function toggleTheme() {
        isDarkThemeFirst = !isDarkThemeFirst;

        const editorContainer = document.querySelectorAll('.editor-container')[0];
        const controlsContainer = document.querySelectorAll('.controls-container')[0];
        const editor = document.getElementById('textEditor');
        const buttonSecondary = document.querySelectorAll('.button-secondary')[0];

        if (isDarkThemeFirst) {
            // Light theme
            editorContainer.style.backgroundColor = '#F1F1F1';
            controlsContainer.style.backgroundColor = '#F1F1F1';
            editor.style.color = '#202020';
            buttonSecondary.style.backgroundColor = '#202020';
            buttonSecondary.style.color = '#ffffff';
        } else {
           // Dark theme
            editorContainer.style.backgroundColor = '#202020';
            controlsContainer.style.backgroundColor = '#202020';
            editor.style.color = '#ffffff';
            buttonSecondary.style.backgroundColor = '#ffffff';
            buttonSecondary.style.color = '#202020';
        }
    }

    function toggleThemeSecond() {
        isDarkThemeSecond = !isDarkThemeSecond;

        const editorContainer = document.querySelectorAll('.editor-container')[1];
        const controlsContainer = document.querySelectorAll('.controls-container')[1];
        const editor = document.getElementById('textEditorSecond');
        const buttonSecondary = document.querySelectorAll('.button-secondary')[1];

        if (isDarkThemeSecond) {
            // Light theme
            editorContainer.style.backgroundColor = '#F1F1F1';
            controlsContainer.style.backgroundColor = '#F1F1F1';
            editor.style.color = '#202020';
            buttonSecondary.style.backgroundColor = '#202020';
            buttonSecondary.style.color = '#ffffff';
        } else {
           // Dark theme
            editorContainer.style.backgroundColor = '#202020';
            controlsContainer.style.backgroundColor = '#202020';
            editor.style.color = '#ffffff';
            buttonSecondary.style.backgroundColor = '#ffffff';
            buttonSecondary.style.color = '#202020';
        }
    }


    function updateFont() {
        const size = fontSize.value;
        const sizeSecond = fontSizeSecond.value;
        const weightValue = fontWeight.value;
        const weightSecondValue = fontWeightSecond.value;
        const height = lineHeight.value;
        const spacing = spacingText.value;

        // Parse weight and italic for first editor
        let weight, isItalic;
        if (weightValue.includes('-italic')) {
            weight = weightValue.replace('-italic', '');
            isItalic = true;
            currentItalic = true; // Update global italic state
        } else {
            weight = weightValue;
            isItalic = false;
            currentItalic = false; // Update global italic state
        }

        // Parse weight for second editor
        let weightSecond, isItalicSecond;
        if (weightSecondValue.includes('-italic')) {
            weightSecond = weightSecondValue.replace('-italic', '');
            isItalicSecond = true;
        } else {
            weightSecond = weightSecondValue;
            isItalicSecond = false;
        }

        // Use Fondue font family
        const fontFamily = "Fondue";

        editor.style.fontSize = size + "px";
        editor.style.fontWeight = weight;
        editor.style.lineHeight = height;
        editor.style.letterSpacing = spacing + "px";
        editor.style.fontFamily = fontFamily;
        editor.style.fontStyle = isItalic ? 'italic' : 'normal';

        editorSecond.style.fontSize = sizeSecond + "px";
        editorSecond.style.fontWeight = weightSecond;
        editorSecond.style.fontFamily = fontFamily;
        editorSecond.style.fontStyle = isItalicSecond ? 'italic' : 'normal';

        previewText.style.fontWeight = weight;
        previewText.style.fontStyle = currentItalic ? 'italic' : 'normal';
        previewText.style.fontFamily = fontFamily;

        document.getElementById("fontSizeValue").textContent = size;
        document.getElementById("fontSizeSecondValue").textContent = sizeSecond;
        document.getElementById("lineHeightValue").textContent = height;
        document.getElementById("spacingValue").textContent = spacing;

        // Update button styles to match selected font style
        updateButtonStyles(fontFamily);
        updateWeightButtons(weight, currentItalic);
    }

    function applyWeight(weight, isItalic) {
        // Update the select to match the button selection
        if (isItalic) {
            fontWeight.value = weight + '-italic';
        } else {
            fontWeight.value = weight;
        }
        currentItalic = isItalic;
        updateFont();
    }

    function updateButtonStyles(fontFamily) {
        // Update all button-main elements to use the selected font style
        document.querySelectorAll(".button-main").forEach(button => {
            const span = button.querySelector("span, p");
            if (span) {
                span.style.fontFamily = fontFamily;
            }
        });

        // Update all select options to use the selected font style
        const fontWeightSelect = document.getElementById("fontWeight");
        if (fontWeightSelect) {
            Array.from(fontWeightSelect.options).forEach(option => {
                option.style.fontFamily = fontFamily;
            });
        }
    }

    function updateWeightButtons(activeWeight, activeItalic) {
        document.querySelectorAll(".button-main").forEach(button => {
            const buttonWeight = button.getAttribute("data-weight");
            const buttonItalic = button.getAttribute("data-italic") === 'true';
            if (buttonWeight == activeWeight && buttonItalic === activeItalic) {
                button.classList.add("active");
            } else {
                button.classList.remove("active");
            }
        });
    }

    updateFont();

    document.addEventListener("keydown", function (e) {
        if (e.ctrlKey || e.metaKey) {
            switch (e.key) {
                case "1": e.preventDefault(); applyWeight(100, false); break;
                case "2": e.preventDefault(); applyWeight(300, false); break;
                case "3": e.preventDefault(); applyWeight(400, false); break;
                case "4": e.preventDefault(); applyWeight(700, false); break;
                case "5": e.preventDefault(); applyWeight(800, false); break;
                case "6": e.preventDefault(); applyWeight(900, false); break;
            }
        }
    });
</script>
